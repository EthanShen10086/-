<!DOCTYPE html>
<html lang="en">
	<body>
		<ul>
			控件
		</ul>
		<script>
			const total = 1000000;
			const pageSize = 20;
			const loopCount = total / pageSize;
			let count = 0;
			let ul = document.querySelector('ul');
			function add() {
				const fragment = document.createDocumentFragment();
				for (let i = 0; i < loopCount; i++) {
					const li = document.createElement('li');
					li.textContent = i;
					fragment.appendChild(li);
					// li和div都可以使用textContent
					// const div = document.createElement('div');
					// div.textContent = i;
					// fragment.appendChild(div);
				}
				ul.appendChild(fragment);
				count++;
				if (count < loopCount) {
					requestAnimationFrame(add);
				}
			}
			requestAnimationFrame(add);
		</script>
	</body>
</html>
